charts:
  kyverno:
    default:
      chartVersion: v2.1.3
      values:
        installCRDs: 'true'
        nodeSelector: {}
        image:
          repository: ghcr.io/kyverno/kyverno
          tag: v1.5.1
        initImage:
          repository: ghcr.io/kyverno/kyvernopre
          tag: v1.5.1
  cert-manager:
    default:
      chartVersion: v1.6.1
      values:
        installCRDs: 'true'        
        image:
          repository: quay.io/jetstack/cert-manager-controller
          tag: v1.6.1
        # https://github.com/jetstack/cert-manager/blob/f61d5349752f83abe4be99c64979840f258e48b6/cmd/controller/app/options/options.go#L146
        extraArgs:
          - --acme-http01-solver-image=quay.io/jetstack/cert-manager-acmesolver:v1.6.1
        webhook:
          image:
            repository: quay.io/jetstack/cert-manager-webhook
            tag: v1.6.1          
        cainjector:
          image:
            repository: quay.io/jetstack/cert-manager-cainjector
            tag: v1.6.1         
        startupapicheck:
          image:
            repository: quay.io/jetstack/cert-manager-ctl
            tag: v1.6.1
          
  ingress-nginx:
    default:
      chartVersion: 4.0.6
      values:
        defaultBackend:
          enabled: true
          image:
            repository: docker.io/kineticadevcloud/kinetica-default-backend
            tag: v0.0.1
            digest: ""          
          extraEnvs:
            - name: DEBUG
              value: "false"
        controller:
          kind: DaemonSet
          hostNetwork: true
          hostPort:
            enabled: true
          service:
            enabled: false
          publishService:
            enabled: false
          metrics:
            enabled: true
            serviceMonitor:
              enabled: true
          config:
            use-forwarded-headers: "true"
          admissionWebhooks:
            enabled: true
            patch:
              enabled: true  
              image:
                repository: k8s.gcr.io/ingress-nginx/kube-webhook-certgen
                tag: v1.1.1
                digest: ""
  openldap:
    default:
      chartVersion: 1.2.6
      values:
        env:
          LDAP_BACKEND: "mdb"
          LDAP_ORGANISATION: "Kinetica DB Inc."
          LDAP_DOMAIN: "kinetica.com"
          LDAP_LOG_LEVEL: "128"
        persistence:
          enabled: true
          accessMode: ReadWriteOnce
          size: 1Mi       
        image:
          repository: docker.io/kineticadevcloud/openldap
          tag: 1.5.0.a
  stats:
    default:
      chartVersion: 0.0.1
      values:
        image:
          repository: kinetica/kagent
          tag: "7.1.6"
        
      
  kube-rbac-proxy:
    default:
      chartVersion: v0.5.0
      output: config/manager/bases/manager_auth_proxy_patch.yaml
      template:
        - input: config/manager/bases/manager_auth_proxy_patch.yaml
          replace:
            - path: .spec.template.spec.containers[0].image
              value: "{{ .Values.image.repository }}:{{ .Values.image.tag }}"
      values:
        nodeSelector: {}
        image:
          repository: gcr.io/kubebuilder/kube-rbac-proxy
          tag: v0.5.0
  open-telemetry-collector:
    default:
      chartVersion: 0.6.0
      output: config/kustomize/base/monitoring/otel/otel-collector-deployment.yaml
      template:
        - input: config/kustomize/base/monitoring/otel/otel-collector-deployment.yaml
          replace:
            - path: .spec.template.spec.containers[0].image
              value: "{{ .Values.image.repository }}:{{ .Values.image.tag }}"
          
      values:
       image:
          repository: otel/opentelemetry-collector-contrib
          tag: 0.61.0
  
policies:
  default:
    policies: []

